# ===================================
# APPLICATION CONFIGURATION
# ===================================
# Application ka naam (logs aur monitoring mein dikhta hai)
spring.application.name=student-management-system

# Server kis port pe run hoga
server.port=8080

# ===================================
# DATABASE CONFIGURATION (MySQL)
# ===================================
# Database connection URL
# localhost:3306 = MySQL server address
# student_management_db = Database name
# createDatabaseIfNotExist=true = Agar DB nahi hai to create kar do
spring.datasource.url=jdbc:mysql://localhost:3306/student_management_db?createDatabaseIfNotExist=true

# Database username aur password
spring.datasource.username=root
spring.datasource.password=Arnav123

# MySQL JDBC driver class
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ===================================
# JPA / HIBERNATE CONFIGURATION
# ===================================
# DDL (Data Definition Language) auto mode
# update = Tables automatically update/create hote hain
# create = Har baar application start pe tables recreate hote hain (DATA LOSS!)
# create-drop = Application band hone pe tables delete ho jate hain
# validate = Sirf validation, koi changes nahi
# none = Kuch nahi karo
spring.jpa.hibernate.ddl-auto=update

# SQL queries console mein print hogi (Development ke liye useful)
spring.jpa.show-sql=true

# SQL queries formatted (readable) form mein print hongi
spring.jpa.properties.hibernate.format_sql=true

# MySQL dialect (Hibernate ko batata hai kis database ka SQL use karna hai)
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Lazy loading exception handling
spring.jpa.open-in-view=false

# ===================================
# LOGGING CONFIGURATION
# ===================================
# Root level logging (sabhi packages ke liye default)
logging.level.root=INFO

# Custom package logging (tumhare application package)
logging.level.com.studentapp=DEBUG

# Spring framework logging
logging.level.org.springframework.web=DEBUG

# Hibernate SQL logging
logging.level.org.hibernate.SQL=DEBUG

# SQL parameters logging (query ke values)
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Log file configuration
logging.file.name=logs/application.log
logging.file.max-size=10MB
logging.file.max-history=30

# Log pattern for console
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# Log pattern for file
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ===================================
# VALIDATION MESSAGES
# ===================================
# Custom validation messages file ka location
spring.messages.basename=messages

# ===================================
# JSON CONFIGURATION
# ===================================
# Dates ko timestamp format mein nahi bhejenge
spring.jackson.serialization.write-dates-as-timestamps=false

# Timezone set karo (India)
spring.jackson.time-zone=Asia/Kolkata

# Null values JSON mein include nahi hongi
spring.jackson.default-property-inclusion=non_null

# Pretty print JSON (readable format)
spring.jackson.serialization.indent_output=true

# ===================================
# ERROR HANDLING
# ===================================
# Error response mein message include karo
server.error.include-message=always

# Validation errors include karo
server.error.include-binding-errors=always

# Stack trace sirf parameter pe show karo (security ke liye)
server.error.include-stacktrace=on_param

# Exception class name hide karo (security)
server.error.include-exception=false

# ===================================
# DATASOURCE CONNECTION POOL (HikariCP)
# ===================================
# Maximum connection pool size
spring.datasource.hikari.maximum-pool-size=10

# Minimum idle connections
spring.datasource.hikari.minimum-idle=5

# Connection timeout (30 seconds)
spring.datasource.hikari.connection-timeout=30000

# Idle timeout (10 minutes)
spring.datasource.hikari.idle-timeout=600000

# Max lifetime of connection (30 minutes)
spring.datasource.hikari.max-lifetime=1800000

# ===================================
# ACTUATOR (Optional - Monitoring)
# ===================================
# Health endpoint enable karo
management.endpoints.web.exposure.include=health,info

# Health details always show karo
management.endpoint.health.show-details=always